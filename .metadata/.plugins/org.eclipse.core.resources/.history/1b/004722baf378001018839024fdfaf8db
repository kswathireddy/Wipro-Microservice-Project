package com.wipro.swathi.demo.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.wipro.swathi.demo.CustomException;
import com.wipro.swathi.demo.dto.Booking;
import com.wipro.swathi.demo.dto.DestionationDTO;

import com.wipro.swathi.demo.dto.PackageTourDTO;
import com.wipro.swathi.demo.dto.UserDTO;
import com.wipro.swathi.demo.entity.Booking;
import com.wipro.swathi.demo.enums.Status;

import com.wipro.swathi.demo.feign.PackageService;
import com.wipro.swathi.demo.feign.UserService;
import com.wipro.swathi.demo.repo.BookingRepo;

import feign.FeignException;

@Service
public class BookingServiceImpl implements BookingService {
    
    @Autowired
    private BookingRepo bookingRepository;
    
    @Autowired
    private PackageService packageService;
    
    @Autowired
    private UserService userService;
   

   

    @Override
    public Booking cancel(Long id) {
        Booking booking = bookingRepository.findById(id)
                .orElseThrow(() -> new CustomException("Booking not found: " + id));

        booking.setStatus(Status.CANCELLED);
        return bookingRepository.save(booking);
    }

    @Override
    public Booking addBooking(Booking bookingDTO) {
        

        return bookingRepository.save(bookingDTO);
    }

	@Override
	public Booking getById(Long id) {
		// TODO Auto-generated method stub
		return null;
	}

	
	}

